plugins {
    id 'org.jetbrains.kotlin.multiplatform' version '1.3.41'
}

repositories {
    mavenCentral()
}

kotlin {

    macosX64()

    linuxX64()

    sourceSets {
        nativeMain.kotlin.srcDir('src/nativeMain/kotlin')
        macosX64Main.dependsOn(nativeMain)
        linuxX64Main.dependsOn(nativeMain)
    }

    targets.withType(org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget) {
        binaries.sharedLib('calc')
    }

}
